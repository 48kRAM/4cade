!cpu 6502
!to "build/LAUNCHER.SYSTEM",plain
*=$2000

         !source "src/constants.a"
         !source "src/macros.a"
         !source "src/4cade.init.a"

FirstMover
!pseudopc $D000 {
!zone
Reenter                              ; self-running demos should call this to exit back to 4cade
         +READ_RAM1_WRITE_RAM1
Main
         ldx   #$FF
         txs
         jsr   BlankHGR
-        bit   $C010
         jsr   AttractMode
         jmp   -

Reboot
         ldx   #(@end-@start-1)
-        lda   @start,x
         sta   $300,x
         dex
         bpl   -
         jmp   $300
@start
         +READ_ROM_NO_WRITE
         jmp   $FAA6
@end

         ; these routines will only be called after relocating to language card
         !source "src/ui.attract.mode.a"
         !source "src/prodos.path.a"
         !source "src/glue.prorwts2.a"
         !source "src/okvs.a"
         !source "src/wait.a"
         !source "src/parse.common.a"
         !source "src/parse.games.a"
gGamesListStore
         !word *+2                   ; address of first okvs store
}
LastMover
