;license:MIT
;(c) 2018-9 by 4am
;
; cheat-related UI functions
;
; Public functions:
; - ToggleCheat
;

ToggleCheat
; in:    none
; out:   all registers clobbered
;        X = 0, Z = 1 (guaranteed by pref_set)
         lda   gCheatsEnabled
         eor   #$80
         sta   gCheatsEnabled
         beq   +
         lda   #$B1
         +HIDE_NEXT_2_BYTES
+        lda   #$B0
         sta   @val
         jsr   pref_set
         !word kCheat
         !word @pref
         rts
@pref    !byte 1
@val     !byte $FD
